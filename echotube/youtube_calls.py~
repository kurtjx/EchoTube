'''
Created on May 14, 2010

@author: kurtjx
'''

import gdata.youtube.service

def search(name):
    service = gdata.youtube.service.YouTubeService()
    query = gdata.youtube.service.YouTubeVideoQuery()
    query.categories.append("Music")
    query.racy = "include"
    query.vq = name
    feed = service.YouTubeQuery(query)
    results = []
    for video in feed.entry:
        result = {'title': video.title.text,
                  'url': video.media.player.url
                  'id': video.id.text.split('/')[-1]}
        results.append(result)
    return results
